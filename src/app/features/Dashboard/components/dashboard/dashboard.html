<!-- Gestion de Stock Dashboard -->
<div class="stock-dashboard-container">
    <!-- En-tête de page -->
    <div class="page-header">
        <h1 class="page-title">
            <i class="fa-solid fa-boxes-stacked"></i> {{ pageTitle }}
        </h1>
        <div class="page-actions">
            <button class="btn-secondary" (click)="onExportData()">
                <i class="fa-solid fa-download"></i> Exporter
            </button>
            <button class="btn-primary" (click)="onAddProduct()">
                <i class="fa-solid fa-plus"></i> Ajouter Produit
            </button>
        </div>
    </div>

    <!-- Statistiques rapides -->
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon stat-total">
                <i class="fa-solid fa-cube"></i>
            </div>
            <div class="stat-content">
                <h3>{{ allProducts.length }}</h3>
                <p>Total Produits</p>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon stat-in-stock">
                <i class="fa-solid fa-check-circle"></i>
            </div>
            <div class="stat-content">
                <h3>{{ inStockCount }}</h3>
                <p>En Stock</p>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon stat-low-stock">
                <i class="fa-solid fa-exclamation-triangle"></i>
            </div>
            <div class="stat-content">
                <h3>{{ lowStockCount }}</h3>
                <p>Stock Faible</p>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon stat-out-stock">
                <i class="fa-solid fa-times-circle"></i>
            </div>
            <div class="stat-content">
                <h3>{{ outOfStockCount }}</h3>
                <p>Rupture</p>
            </div>
        </div>
    </div>

    <!-- Top tables -->
    <div class="grid-top">
        <div class="card">
            <div class="card-header">
                <h3>Item List</h3><a href="#">View All</a>
            </div>
            <div class="table-wrap">
                <table>
                    <thead>
                        <tr>
                            <th>Item Name</th>
                            <th style="width:64px">Image</th>
                            <th>Store</th>
                            <th style="width:90px">Amount</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Gas Kitting</td>
                            <td><span class="thumb"><img src="https://picsum.photos/seed/kit1/40/40" alt="kit1"></span>
                            </td>
                            <td>22 House Store</td>
                            <td>1 pcs</td>
                        </tr>
                        <tr>
                            <td>Condet</td>
                            <td><span class="thumb"><img src="https://picsum.photos/seed/cond1/40/40"
                                        alt="cond1"></span>
                            </td>
                            <td>HQ Main Store</td>
                            <td>3 pcs</td>
                        </tr>
                        <tr>
                            <td>Condet</td>
                            <td><span class="thumb"><img src="https://picsum.photos/seed/cond2/40/40"
                                        alt="cond2"></span>
                            </td>
                            <td>HQ Main Store</td>
                            <td>5 pcs</td>
                        </tr>
                        <tr>
                            <td>Condet</td>
                            <td><span class="thumb"><img src="https://picsum.photos/seed/cond3/40/40"
                                        alt="cond3"></span>
                            </td>
                            <td>HQ Main Store</td>
                            <td>5 pcs</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h3>Asset List</h3><a href="#">View All</a>
            </div>
            <div class="table-wrap">
                <table>
                    <thead>
                        <tr>
                            <th>Asset Name</th>
                            <th style="width:64px">Image</th>
                            <th>Store</th>
                            <th style="width:90px">Amount</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Gas Kitting</td>
                            <td><span class="thumb"><img src="https://picsum.photos/seed/asset1/40/40"
                                        alt="asset1"></span>
                            </td>
                            <td>22 House Store</td>
                            <td>1 pcs</td>
                        </tr>
                        <tr>
                            <td>Condet</td>
                            <td><span class="thumb"><img src="https://picsum.photos/seed/asset2/40/40"
                                        alt="asset2"></span>
                            </td>
                            <td>HQ Main Store</td>
                            <td>3 pcs</td>
                        </tr>
                        <tr>
                            <td>Condet</td>
                            <td><span class="thumb"><img src="https://picsum.photos/seed/asset3/40/40"
                                        alt="asset3"></span>
                            </td>
                            <td>HQ Main Store</td>
                            <td>5 pcs</td>
                        </tr>
                        <tr>
                            <td>Condet</td>
                            <td><span class="thumb"><img src="https://picsum.photos/seed/asset4/40/40"
                                        alt="asset4"></span>
                            </td>
                            <td>HQ Main Store</td>
                            <td>5 pcs</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>


    <!-- Summary (50/50) -->
    <div class="summary-container">
        <!-- Colonne gauche : Progression -->
        <div class="card progress-card">
            <h3 class="progress-title">Suivi des métriques</h3>

            <div class="progress-item">
                <p>Inventory Progress <span>70%</span></p>
                <div class="progress-bar">
                    <div class="progress-fill p-blue"></div>
                </div>
                <small class="text-green"><i class="fa-solid fa-circle-check"></i> On Track</small>
            </div>

            <div class="progress-item">
                <p>Assets Received <span>50%</span></p>
                <div class="progress-bar">
                    <div class="progress-fill p-green"></div>
                </div>
                <small class="text-amber"><i class="fa-solid fa-triangle-exclamation"></i> Pending</small>
            </div>

            <div class="progress-item">
                <p>Suppliers Engaged <span>80%</span></p>
                <div class="progress-bar">
                    <div class="progress-fill p-amber"></div>
                </div>
                <small class="text-green"><i class="fa-solid fa-circle-check"></i> Completed</small>
            </div>
        </div>


        <!-- Right: grid of the 4 small summary cards (2 columns inside this half) -->
        <div class="right-col">
            <!-- top-left -->
            <div class="summary-card">
                <div class="summary-title">Item Summary</div>
                <div class="summary-values">
                    <div class="summary-item">
                        <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden>
                            <rect x="3" y="6" width="18" height="12" rx="2" fill="#FFEDD5"></rect>
                            <rect x="7" y="9" width="10" height="6" rx="1" fill="#F97316"></rect>
                        </svg>
                        <div class="big-num">868</div>
                        <div class="muted">Quantity in Hand</div>
                    </div>
                    <div class="summary-item">
                        <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden>
                            <rect x="3" y="6" width="18" height="12" rx="2" fill="#EEF2FF"></rect>
                            <path d="M6 12h12v2H6z" fill="#3B82F6"></path>
                        </svg>
                        <div class="big-num">200</div>
                        <div class="muted">To be received</div>
                    </div>
                </div>
            </div>

            <!-- top-right -->
            <div class="summary-card">
                <div class="summary-title">Total items</div>
                <div class="summary-values">
                    <div class="summary-item">
                        <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden>
                            <circle cx="12" cy="8" r="6" fill="#ECFEFF"></circle>
                            <rect x="7" y="11" width="10" height="7" rx="2" fill="#06B6D4"></rect>
                        </svg>
                        <div class="big-num">31</div>
                        <div class="muted">Total Number of Items</div>
                    </div>
                    <div class="summary-item">
                        <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden>
                            <rect x="3" y="3" width="18" height="18" rx="3" fill="#F3E8FF"></rect>
                            <rect x="7" y="6" width="10" height="12" rx="2" fill="#A78BFA"></rect>
                        </svg>
                        <div class="big-num">21</div>
                        <div class="muted">To be received</div>
                    </div>
                </div>
            </div>

            <!-- bottom-left -->
            <div class="summary-card">
                <div class="summary-title">Product Summary</div>
                <div class="summary-values">
                    <div class="summary-item">
                        <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden>
                            <circle cx="12" cy="12" r="10" fill="#EFF6FF"></circle>
                            <path d="M8 9h8v2H8zM8 13h8v2H8z" fill="#2563EB"></path>
                        </svg>
                        <div class="big-num">31</div>
                        <div class="muted">Number of Suppliers</div>
                    </div>
                    <div class="summary-item">
                        <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden>
                            <rect x="3" y="5" width="18" height="14" rx="3" fill="#F8FAFF"></rect>
                            <path d="M7 9h10v2H7zM7 13h10v2H7z" fill="#C7B9FF"></path>
                        </svg>
                        <div class="big-num">21</div>
                        <div class="muted">Number of Categories</div>
                    </div>
                </div>
            </div>

            <!-- bottom-right -->
            <div class="summary-card">
                <div class="summary-title">Total assets</div>
                <div class="summary-values">
                    <div class="summary-item">
                        <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden>
                            <rect x="3" y="6" width="18" height="12" rx="2" fill="#F0FDFF"></rect>
                            <rect x="6" y="8" width="12" height="8" rx="1" fill="#06B6D4"></rect>
                        </svg>
                        <div class="big-num">31</div>
                        <div class="muted">Total Number of assets</div>
                    </div>
                    <div class="summary-item">
                        <svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden>
                            <rect x="3" y="4" width="18" height="16" rx="3" fill="#FBF7FF"></rect>
                            <rect x="7" y="7" width="10" height="10" rx="2" fill="#C7B9FF"></rect>
                        </svg>
                        <div class="big-num">21</div>
                        <div class="muted">To be received</div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>